<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Programming Prawns</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="./favicon.ico" type="image/x-icon">
  </head>
  <body>
    <main>
        <h1>Programming Prawns</h1> 
        <p> Welcome to our free coding education platform. Play fun unique games to get a grasp on the fundamentals of Python!</p> 
        <img src="images/programmingPrawn.jpeg" alt="prawn" width="512" height="512"> 

        <section id="games">
          <h2>Game</h2>
          <p>Here is the game:</p>
          <iframe src="https://i.simmer.io/@gracea/path" style="width:960px;height:600px"></iframe>
        </section>
        <!-- New Section for Student Progress -->
        <section id="student-progress">
          <h2>Student Progress</h2>
          <p>Here is the progress of our students:</p>
          <ul id="student-list"></ul> <!-- This will display the student data -->
        </section>
    </main>

    <!-- JavaScript to fetch and display data from the server -->
    <script src="index.js"></script>
    <script>
        // Fetch student progress data from the API and display it
        fetch('http://localhost:5001/api/students')
            .then(response => response.json())
            .then(data => {
                const studentList = document.getElementById('student-list');
                data.forEach(student => {
                    const listItem = document.createElement('li');
                    listItem.textContent = `Name: ${student.student_name}, Email: ${student.student_email}, Grade: ${student.student_grade}`;
                    studentList.appendChild(listItem);
                });
            })
            .catch(error => console.error('Error fetching student data:', error));
    </script>
  </body>
</html>
